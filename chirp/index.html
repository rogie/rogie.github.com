<!doctype html>  

<!--[if lt IE 7 ]> <html lang="en" class="no-js ie ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
  <title>Chirp.js — Tweets on your website, simply.</title>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=9" />	
		<script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
		
		<!-- Enable HTML5 elements for crusty decroded browswers -->
		<script src="js/html5shiv.js" type="text/javascript"></script>
		
		<!--Chirp.js doesn't need jQuery...YAY! -->
		<script src="js/chirp.js" type="text/javascript"></script>
		<link rel="stylesheet" href="css/chirp.css">
		<script>
			function gotTweetsYo(data){
				if(data){
					$('.chirp-tweets-empty').addClass('hide');
					var dude = data[Math.floor(Math.random()*data.length)].user;
					$('#bg')
					  .on('load', function(){console.log('loaded');$(this).removeClass('hide')})
						.attr('src', dude.profile_image_url + "?" + Math.random());
				}
			}
			
			var chrp,
				chrpOptions = {	
					target:'chirp-tweets',
					callback: gotTweetsYo
				}
			
			var updateOptions = function(name,value){
				if( name == "templates.tweet" ){
					chrpOptions.templates = {tweet:value};
				}else{
					if( value.match(/(^true|^false)/) ){
						chrpOptions[name] = (value == 'true'? true : false);
					} else {
						chrpOptions[name] = value;
					}
				}
			}
			
			var change = function(){
				$('.chirp-tweets-empty').removeClass('hide');
				$('#bg').addClass('hide');
				updateOptions(this.name,this.value);
				$('.username').text(chrpOptions.user);
				$('#windbaggery').removeAttr('class').addClass(chrpOptions.user);
				$('.list-names').attr('href','http://twitter.com/'+ chrpOptions.user + '/lists');
				chrp = new Chirp(chrpOptions);
				chrp.show();
			}			
			//setup this website
			$(function(){
				$('#try :input')
					.on('change',change)
					.each(function(){
						updateOptions(this.name, this.value);
					})
					.filter('[name=user]').trigger('change');
					
				$(window).on('hashchange', function(){
				  var hash = location.hash.replace('#','');
				  $('html').removeClass($('html').data('previous-hash')).addClass(hash);
				  $('html').data('previous-hash',hash);
				}).trigger('hashchange');	
			});
				
		</script>		
	</head>
	<body>
		<svg>
		    <filter id="svg-blur">
		      <feGaussianBlur stdDeviation="25" />
		    </filter>
		</svg>
		<div id="chirp-settings">
			<div id="bg-blur"><img id="bg" style="filter: url(#svg-blur)"></div>
			<section>
				<div class="identity">
				  <h1>Chirp.js</h1>
				  <p>Tweets on your website, simply.</p>
				</div>
				<a href="#how" class="btn how secondary">How to Use</a>
				<a href="#try" class="btn try secondary">Try it!</a>
				<a href="https://github.com/rogie/Chirp.js/zipball/master" class="btn">Download</a>
				<div id="how">
				  <h2>This is how</h2>
				</div>
				<div id="try">
					<form>
						Show me
							<select name="max">
								<option>5</option>
								<option selected="selected">25</option>
								<option>50</option>
								<option>100</option>
							</select>
						tweets
						from 
							<input placeholder="A user name" value="rogie" name="user">
							<select name="retweets">
								<option selected="selected" value="true">Show</option>
								<option value="false">Don't show </option>
							</select>
							me retweets
							and
							<select name="replies">
									<option value="true">show</option>
									<option selected="selected"  value="false">don't show</option>
								</select>
								me replies.	
						Show me tweets from <span class="username">rogie</span>'s list <input placeholder="List name" name="list"> <a target="chirp-help" class="list-names help" title="Show me some lists" href="http://twitter.com/rogie/lists">?</a>		
						<br><br>
						<label class="template">Use this html for a tweet <a target="chirp-help" class="help" href="https://api.twitter.com/1/statuses/user_timeline.json?include_entities=true&include_rts=true&screen_name=twitterapi&count=2" title="Hey there smarty pants ;)">?</a> <textarea placeholder="5" name="templates.tweet"><li><a href="http://twitter.com/{{user.screen_name}}" title="{{user.name}} — {{user.description}}"><img src="{{user.profile_image_url}}"></a> {{html}}<span class="meta"><time><a href="http://twitter.com/{{user.name}}/statuses/{{id}}">{{time_ago}}</a></time> &mdash; via <a href="http://twitter.com/{{user.screen_name}}" title="{{user.name}} — {{user.description}}">{{user.name}}</a></span></li></textarea></label>
					</form>
				</div>
			</section>
		</div>
		<div id="chirp-tweets">
		</div>
		<div class="chirp-tweets-empty">
			<p><span>Waiting for tweets, yo.</span></p>
		</div>
		<div id="windbaggery">
			<img src="http://dribbble.s3.amazonaws.com/users/255/screenshots/683315/attachments/61523/rogie.png">
			Sweet mother of Abraham Lincoln, these are my tweets! Press the Try it button over yonder to see other more important people's tweets. If you dig this, <a href="http://twitter.com/rogie">foller me on the twitters</a> and <a href="">fill up my gamblin' funds here</a>.
		</div>	
    
	</body>
</html>